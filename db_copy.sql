--
-- PostgreSQL database dump
--

-- Dumped from database version 16.3
-- Dumped by pg_dump version 17.0

-- Started on 2025-03-24 16:35:57

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 6 (class 2615 OID 25509)
-- Name: postgraphile_watch; Type: SCHEMA; Schema: -; Owner: -
--

CREATE SCHEMA postgraphile_watch;


--
-- TOC entry 876 (class 1247 OID 16848)
-- Name: task_status; Type: TYPE; Schema: public; Owner: -
--

CREATE TYPE public.task_status AS ENUM (
    'not_started',
    'in_progress',
    'completed'
);


--
-- TOC entry 261 (class 1255 OID 25510)
-- Name: notify_watchers_ddl(); Type: FUNCTION; Schema: postgraphile_watch; Owner: -
--

CREATE FUNCTION postgraphile_watch.notify_watchers_ddl() RETURNS event_trigger
    LANGUAGE plpgsql
    AS $$
begin
  perform pg_notify(
    'postgraphile_watch',
    json_build_object(
      'type',
      'ddl',
      'payload',
      (select json_agg(json_build_object('schema', schema_name, 'command', command_tag)) from pg_event_trigger_ddl_commands() as x)
    )::text
  );
end;
$$;


--
-- TOC entry 262 (class 1255 OID 25511)
-- Name: notify_watchers_drop(); Type: FUNCTION; Schema: postgraphile_watch; Owner: -
--

CREATE FUNCTION postgraphile_watch.notify_watchers_drop() RETURNS event_trigger
    LANGUAGE plpgsql
    AS $$
begin
  perform pg_notify(
    'postgraphile_watch',
    json_build_object(
      'type',
      'drop',
      'payload',
      (select json_agg(distinct x.schema_name) from pg_event_trigger_dropped_objects() as x)
    )::text
  );
end;
$$;


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 223 (class 1259 OID 17158)
-- Name: Access; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public."Access" (
    access_id integer NOT NULL,
    user_id integer,
    study_group_id integer
);


--
-- TOC entry 241 (class 1259 OID 17400)
-- Name: Access_access_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public."Access" ALTER COLUMN access_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Access_access_id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 230 (class 1259 OID 17262)
-- Name: announcements; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.announcements (
    announcement_id integer NOT NULL,
    study_group_id integer,
    user_id integer,
    title character varying(100),
    content text,
    date_published date
);


--
-- TOC entry 247 (class 1259 OID 17406)
-- Name: announcements_announcement_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.announcements ALTER COLUMN announcement_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.announcements_announcement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 17089)
-- Name: classes; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.classes (
    class_id integer NOT NULL,
    grade integer,
    class_name character varying(10)
);


--
-- TOC entry 235 (class 1259 OID 17394)
-- Name: classes_class_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.classes ALTER COLUMN class_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.classes_class_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 17099)
-- Name: courses; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.courses (
    course_id integer NOT NULL,
    course_name character varying(255)
);


--
-- TOC entry 237 (class 1259 OID 17396)
-- Name: courses_course_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.courses ALTER COLUMN course_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.courses_course_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 222 (class 1259 OID 17143)
-- Name: enrolments; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.enrolments (
    enrolment_id integer NOT NULL,
    user_id integer,
    study_group_id integer
);


--
-- TOC entry 239 (class 1259 OID 17398)
-- Name: enrolments_enrolment_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.enrolments ALTER COLUMN enrolment_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.enrolments_enrolment_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 228 (class 1259 OID 17237)
-- Name: favorites; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.favorites (
    favorite_id integer NOT NULL,
    task_id integer,
    user_id integer
);


--
-- TOC entry 245 (class 1259 OID 17404)
-- Name: favorites_favorite_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.favorites ALTER COLUMN favorite_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.favorites_favorite_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 226 (class 1259 OID 17205)
-- Name: recommended; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.recommended (
    recommended_id integer NOT NULL,
    user_id integer,
    task_id integer
);


--
-- TOC entry 243 (class 1259 OID 17402)
-- Name: recommended_recommended_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.recommended ALTER COLUMN recommended_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.recommended_recommended_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 216 (class 1259 OID 17084)
-- Name: requirements; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.requirements (
    requirement_id integer NOT NULL,
    requirement_name character varying(255)
);


--
-- TOC entry 234 (class 1259 OID 17393)
-- Name: requirements_requirement_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.requirements ALTER COLUMN requirement_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.requirements_requirement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 17094)
-- Name: schools; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.schools (
    school_id integer NOT NULL,
    school_name character varying(255)
);


--
-- TOC entry 236 (class 1259 OID 17395)
-- Name: schools_school_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.schools ALTER COLUMN school_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.schools_school_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 229 (class 1259 OID 17252)
-- Name: settings; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.settings (
    settings_id integer NOT NULL,
    user_id integer,
    editor_theme_dark boolean,
    theme_dark boolean
);


--
-- TOC entry 246 (class 1259 OID 17405)
-- Name: settings_settings_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.settings ALTER COLUMN settings_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.settings_settings_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 17121)
-- Name: studygroups; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.studygroups (
    study_group_id integer NOT NULL,
    course_id integer,
    school_id integer,
    study_group_name character varying(255),
    description character varying(255),
    user_id integer,
    is_active boolean
);


--
-- TOC entry 233 (class 1259 OID 17387)
-- Name: studygroups_study_group_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.studygroups ALTER COLUMN study_group_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.studygroups_study_group_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 231 (class 1259 OID 17279)
-- Name: submissionhistories; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.submissionhistories (
    submission_history_id integer NOT NULL,
    task_id integer,
    user_id integer,
    submitted_code text,
    created_at date,
    passed boolean
);


--
-- TOC entry 248 (class 1259 OID 17407)
-- Name: submissionhistories_submission_history_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.submissionhistories ALTER COLUMN submission_history_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.submissionhistories_submission_history_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 227 (class 1259 OID 17220)
-- Name: submissions; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.submissions (
    submission_id integer NOT NULL,
    task_id integer,
    user_id integer,
    submitted_code text,
    generated_output character varying(255),
    gpt_feedback text
);


--
-- TOC entry 244 (class 1259 OID 17403)
-- Name: submissions_submission_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.submissions ALTER COLUMN submission_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.submissions_submission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 225 (class 1259 OID 17190)
-- Name: taskrequirements; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.taskrequirements (
    task_requirement_id integer NOT NULL,
    task_id integer,
    requirement_id integer
);


--
-- TOC entry 242 (class 1259 OID 17401)
-- Name: taskrequirements_task_requirement_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.taskrequirements ALTER COLUMN task_requirement_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.taskrequirements_task_requirement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 224 (class 1259 OID 17173)
-- Name: tasks; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.tasks (
    task_id integer NOT NULL,
    task_name character varying(255),
    task_description character varying(255),
    expected_code text,
    expected_output text,
    difficulty character varying(255),
    course_id integer,
    user_id integer,
    public_access boolean,
    image_url text,
    is_active boolean,
    level character varying(50),
    type character varying(50)
);


--
-- TOC entry 240 (class 1259 OID 17399)
-- Name: tasks_task_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.tasks ALTER COLUMN task_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tasks_task_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 232 (class 1259 OID 17296)
-- Name: taskstatuses; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.taskstatuses (
    task_status_id integer NOT NULL,
    user_id integer,
    task_id integer,
    last_updated date,
    status public.task_status
);


--
-- TOC entry 249 (class 1259 OID 17408)
-- Name: taskstatuses_task_status_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.taskstatuses ALTER COLUMN task_status_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.taskstatuses_task_status_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 17104)
-- Name: users; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.users (
    user_id integer NOT NULL,
    firstname character varying(255),
    lastname character varying(255),
    class_id integer,
    school_id integer,
    is_admin boolean,
    email character varying(255),
    password_hash text,
    created_at date
);


--
-- TOC entry 238 (class 1259 OID 17397)
-- Name: users_user_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.users ALTER COLUMN user_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 4438 (class 0 OID 17158)
-- Dependencies: 223
-- Data for Name: Access; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public."Access" (access_id, user_id, study_group_id) FROM stdin;
1	1	1
\.


--
-- TOC entry 4445 (class 0 OID 17262)
-- Dependencies: 230
-- Data for Name: announcements; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.announcements (announcement_id, study_group_id, user_id, title, content, date_published) FROM stdin;
1	1	2	Testing testing	Hei alle sammen	2025-03-09
2	1	2	Hei	Dette er gøy	2025-03-13
3	1	2	Hei	Dette er gøy	2025-03-13
4	1	2	Hei	Dette er gøy	2025-03-13
5	1	2	LOL	LOL	2025-03-13
6	6	3	abc	acv	2025-03-21
\.


--
-- TOC entry 4432 (class 0 OID 17089)
-- Dependencies: 217
-- Data for Name: classes; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.classes (class_id, grade, class_name) FROM stdin;
1	11	1STA
2	11	1STB
3	12	2STC
4	13	3STD
5	10	10AB
\.


--
-- TOC entry 4434 (class 0 OID 17099)
-- Dependencies: 219
-- Data for Name: courses; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.courses (course_id, course_name) FROM stdin;
1	R1
2	R2
3	1T
4	S1
5	S2
6	2P
7	IT1
\.


--
-- TOC entry 4437 (class 0 OID 17143)
-- Dependencies: 222
-- Data for Name: enrolments; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.enrolments (enrolment_id, user_id, study_group_id) FROM stdin;
1	1	1
2	4	12
\.


--
-- TOC entry 4443 (class 0 OID 17237)
-- Dependencies: 228
-- Data for Name: favorites; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.favorites (favorite_id, task_id, user_id) FROM stdin;
\.


--
-- TOC entry 4441 (class 0 OID 17205)
-- Dependencies: 226
-- Data for Name: recommended; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.recommended (recommended_id, user_id, task_id) FROM stdin;
1	1	1
323	4	2
324	3	1
325	4	1
\.


--
-- TOC entry 4431 (class 0 OID 17084)
-- Dependencies: 216
-- Data for Name: requirements; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.requirements (requirement_id, requirement_name) FROM stdin;
1	for-loop
2	if-statement
3	while-loop
4	inheritance
5	variables
6	functions
7	objects
\.


--
-- TOC entry 4433 (class 0 OID 17094)
-- Dependencies: 218
-- Data for Name: schools; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.schools (school_id, school_name) FROM stdin;
1	St. Hallvard videregående skole
2	Lillestrøm videregående skole
3	St. Olav videregående skole
4	Ullern videregående skole
5	Tønsberg videregående skole
\.


--
-- TOC entry 4444 (class 0 OID 17252)
-- Dependencies: 229
-- Data for Name: settings; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.settings (settings_id, user_id, editor_theme_dark, theme_dark) FROM stdin;
1	1	t	t
\.


--
-- TOC entry 4436 (class 0 OID 17121)
-- Dependencies: 221
-- Data for Name: studygroups; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.studygroups (study_group_id, course_id, school_id, study_group_name, description, user_id, is_active) FROM stdin;
1	1	3	R1 leksehjelp	For oss som elsker matte	2	t
2	2	3	R2 Leksehjelp	Her skal vi lære mye om funksjoner	2	t
3	2	3	R2 Leksehjelp	Vi som elsker matte	2	t
4	3	3	1T Superelever	Trig rules	2	t
6	6	3	dwadaw	dwadwa	3	t
7	7	3	test	it gruppe	3	t
12	2	3	dwadwa	dwadwa	3	f
5	3	3	1T Hjemmeskole	Zoomgruppe for ekstra oppgaver	3	t
\.


--
-- TOC entry 4446 (class 0 OID 17279)
-- Dependencies: 231
-- Data for Name: submissionhistories; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.submissionhistories (submission_history_id, task_id, user_id, submitted_code, created_at, passed) FROM stdin;
\.


--
-- TOC entry 4442 (class 0 OID 17220)
-- Dependencies: 227
-- Data for Name: submissions; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.submissions (submission_id, task_id, user_id, submitted_code, generated_output, gpt_feedback) FROM stdin;
\.


--
-- TOC entry 4440 (class 0 OID 17190)
-- Dependencies: 225
-- Data for Name: taskrequirements; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.taskrequirements (task_requirement_id, task_id, requirement_id) FROM stdin;
1	1	1
2	1	2
3	2	1
4	2	2
5	2	3
\.


--
-- TOC entry 4439 (class 0 OID 17173)
-- Dependencies: 224
-- Data for Name: tasks; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.tasks (task_id, task_name, task_description, expected_code, expected_output, difficulty, course_id, user_id, public_access, image_url, is_active, level, type) FROM stdin;
2	Skalarprodukter	Beskrivelse	Test	Test	Lett	1	2	t	bilde	t	VG2	Øving
1	Trigonometri	Beskrivelse	Test	Test	Lett	1	2	t	bilde	f	VG1\n	Obligatorisk
\.


--
-- TOC entry 4447 (class 0 OID 17296)
-- Dependencies: 232
-- Data for Name: taskstatuses; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.taskstatuses (task_status_id, user_id, task_id, last_updated, status) FROM stdin;
1	1	1	2025-03-09	not_started
\.


--
-- TOC entry 4435 (class 0 OID 17104)
-- Dependencies: 220
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.users (user_id, firstname, lastname, class_id, school_id, is_admin, email, password_hash, created_at) FROM stdin;
1	Ola	Nordmann	2	3	f	ola.nordmann@stovgs.no	test	2025-03-09
2	Petter	Swemann	1	3	t	petter.swemann@stovgs.no	test	2025-03-09
3	Test	Testesen	1	3	t	test.testesen@oslovgs.no	test	2025-03-20
4	mann	mannesen	1	3	f	mann.mannesen@oslovgs.no	test	2025-03-22
\.


--
-- TOC entry 4470 (class 0 OID 0)
-- Dependencies: 241
-- Name: Access_access_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public."Access_access_id_seq"', 1, false);


--
-- TOC entry 4471 (class 0 OID 0)
-- Dependencies: 247
-- Name: announcements_announcement_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.announcements_announcement_id_seq', 6, true);


--
-- TOC entry 4472 (class 0 OID 0)
-- Dependencies: 235
-- Name: classes_class_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.classes_class_id_seq', 1, false);


--
-- TOC entry 4473 (class 0 OID 0)
-- Dependencies: 237
-- Name: courses_course_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.courses_course_id_seq', 1, false);


--
-- TOC entry 4474 (class 0 OID 0)
-- Dependencies: 239
-- Name: enrolments_enrolment_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.enrolments_enrolment_id_seq', 2, true);


--
-- TOC entry 4475 (class 0 OID 0)
-- Dependencies: 245
-- Name: favorites_favorite_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.favorites_favorite_id_seq', 1, false);


--
-- TOC entry 4476 (class 0 OID 0)
-- Dependencies: 243
-- Name: recommended_recommended_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.recommended_recommended_id_seq', 325, true);


--
-- TOC entry 4477 (class 0 OID 0)
-- Dependencies: 234
-- Name: requirements_requirement_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.requirements_requirement_id_seq', 1, false);


--
-- TOC entry 4478 (class 0 OID 0)
-- Dependencies: 236
-- Name: schools_school_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.schools_school_id_seq', 1, false);


--
-- TOC entry 4479 (class 0 OID 0)
-- Dependencies: 246
-- Name: settings_settings_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.settings_settings_id_seq', 1, false);


--
-- TOC entry 4480 (class 0 OID 0)
-- Dependencies: 233
-- Name: studygroups_study_group_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.studygroups_study_group_id_seq', 12, true);


--
-- TOC entry 4481 (class 0 OID 0)
-- Dependencies: 248
-- Name: submissionhistories_submission_history_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.submissionhistories_submission_history_id_seq', 1, false);


--
-- TOC entry 4482 (class 0 OID 0)
-- Dependencies: 244
-- Name: submissions_submission_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.submissions_submission_id_seq', 1, false);


--
-- TOC entry 4483 (class 0 OID 0)
-- Dependencies: 242
-- Name: taskrequirements_task_requirement_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.taskrequirements_task_requirement_id_seq', 1, false);


--
-- TOC entry 4484 (class 0 OID 0)
-- Dependencies: 240
-- Name: tasks_task_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.tasks_task_id_seq', 1, false);


--
-- TOC entry 4485 (class 0 OID 0)
-- Dependencies: 249
-- Name: taskstatuses_task_status_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.taskstatuses_task_status_id_seq', 1, false);


--
-- TOC entry 4486 (class 0 OID 0)
-- Dependencies: 238
-- Name: users_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.users_user_id_seq', 1, false);


--
-- TOC entry 4243 (class 2606 OID 17162)
-- Name: Access Access_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public."Access"
    ADD CONSTRAINT "Access_pkey" PRIMARY KEY (access_id);


--
-- TOC entry 4257 (class 2606 OID 17268)
-- Name: announcements announcements_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.announcements
    ADD CONSTRAINT announcements_pkey PRIMARY KEY (announcement_id);


--
-- TOC entry 4231 (class 2606 OID 17093)
-- Name: classes classes_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.classes
    ADD CONSTRAINT classes_pkey PRIMARY KEY (class_id);


--
-- TOC entry 4235 (class 2606 OID 17103)
-- Name: courses courses_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.courses
    ADD CONSTRAINT courses_pkey PRIMARY KEY (course_id);


--
-- TOC entry 4241 (class 2606 OID 17147)
-- Name: enrolments enrolments_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.enrolments
    ADD CONSTRAINT enrolments_pkey PRIMARY KEY (enrolment_id);


--
-- TOC entry 4253 (class 2606 OID 17241)
-- Name: favorites favorites_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.favorites
    ADD CONSTRAINT favorites_pkey PRIMARY KEY (favorite_id);


--
-- TOC entry 4249 (class 2606 OID 17209)
-- Name: recommended recommended_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.recommended
    ADD CONSTRAINT recommended_pkey PRIMARY KEY (recommended_id);


--
-- TOC entry 4229 (class 2606 OID 17088)
-- Name: requirements requirements_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.requirements
    ADD CONSTRAINT requirements_pkey PRIMARY KEY (requirement_id);


--
-- TOC entry 4233 (class 2606 OID 17098)
-- Name: schools schools_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.schools
    ADD CONSTRAINT schools_pkey PRIMARY KEY (school_id);


--
-- TOC entry 4255 (class 2606 OID 17256)
-- Name: settings settings_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.settings
    ADD CONSTRAINT settings_pkey PRIMARY KEY (settings_id);


--
-- TOC entry 4239 (class 2606 OID 17127)
-- Name: studygroups studygroups_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.studygroups
    ADD CONSTRAINT studygroups_pkey PRIMARY KEY (study_group_id);


--
-- TOC entry 4259 (class 2606 OID 17285)
-- Name: submissionhistories submissionhistories_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.submissionhistories
    ADD CONSTRAINT submissionhistories_pkey PRIMARY KEY (submission_history_id);


--
-- TOC entry 4251 (class 2606 OID 17226)
-- Name: submissions submissions_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.submissions
    ADD CONSTRAINT submissions_pkey PRIMARY KEY (submission_id);


--
-- TOC entry 4247 (class 2606 OID 17194)
-- Name: taskrequirements taskrequirements_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.taskrequirements
    ADD CONSTRAINT taskrequirements_pkey PRIMARY KEY (task_requirement_id);


--
-- TOC entry 4245 (class 2606 OID 17179)
-- Name: tasks tasks_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.tasks
    ADD CONSTRAINT tasks_pkey PRIMARY KEY (task_id);


--
-- TOC entry 4261 (class 2606 OID 17300)
-- Name: taskstatuses taskstatuses_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.taskstatuses
    ADD CONSTRAINT taskstatuses_pkey PRIMARY KEY (task_status_id);


--
-- TOC entry 4237 (class 2606 OID 17110)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (user_id);


--
-- TOC entry 4269 (class 2606 OID 17168)
-- Name: Access Access_study_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public."Access"
    ADD CONSTRAINT "Access_study_group_id_fkey" FOREIGN KEY (study_group_id) REFERENCES public.studygroups(study_group_id);


--
-- TOC entry 4270 (class 2606 OID 17163)
-- Name: Access Access_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public."Access"
    ADD CONSTRAINT "Access_user_id_fkey" FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4282 (class 2606 OID 17269)
-- Name: announcements announcements_study_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.announcements
    ADD CONSTRAINT announcements_study_group_id_fkey FOREIGN KEY (study_group_id) REFERENCES public.studygroups(study_group_id);


--
-- TOC entry 4283 (class 2606 OID 17274)
-- Name: announcements announcements_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.announcements
    ADD CONSTRAINT announcements_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4267 (class 2606 OID 17153)
-- Name: enrolments enrolments_study_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.enrolments
    ADD CONSTRAINT enrolments_study_group_id_fkey FOREIGN KEY (study_group_id) REFERENCES public.studygroups(study_group_id);


--
-- TOC entry 4268 (class 2606 OID 17148)
-- Name: enrolments enrolments_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.enrolments
    ADD CONSTRAINT enrolments_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4279 (class 2606 OID 17242)
-- Name: favorites favorites_task_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.favorites
    ADD CONSTRAINT favorites_task_id_fkey FOREIGN KEY (task_id) REFERENCES public.tasks(task_id);


--
-- TOC entry 4280 (class 2606 OID 17247)
-- Name: favorites favorites_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.favorites
    ADD CONSTRAINT favorites_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4275 (class 2606 OID 17215)
-- Name: recommended recommended_task_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.recommended
    ADD CONSTRAINT recommended_task_id_fkey FOREIGN KEY (task_id) REFERENCES public.tasks(task_id);


--
-- TOC entry 4276 (class 2606 OID 17210)
-- Name: recommended recommended_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.recommended
    ADD CONSTRAINT recommended_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4281 (class 2606 OID 17257)
-- Name: settings settings_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.settings
    ADD CONSTRAINT settings_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4264 (class 2606 OID 17128)
-- Name: studygroups studygroups_course_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.studygroups
    ADD CONSTRAINT studygroups_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.courses(course_id);


--
-- TOC entry 4265 (class 2606 OID 17133)
-- Name: studygroups studygroups_school_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.studygroups
    ADD CONSTRAINT studygroups_school_id_fkey FOREIGN KEY (school_id) REFERENCES public.schools(school_id);


--
-- TOC entry 4266 (class 2606 OID 17138)
-- Name: studygroups studygroups_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.studygroups
    ADD CONSTRAINT studygroups_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4284 (class 2606 OID 17286)
-- Name: submissionhistories submissionhistories_task_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.submissionhistories
    ADD CONSTRAINT submissionhistories_task_id_fkey FOREIGN KEY (task_id) REFERENCES public.tasks(task_id);


--
-- TOC entry 4285 (class 2606 OID 17291)
-- Name: submissionhistories submissionhistories_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.submissionhistories
    ADD CONSTRAINT submissionhistories_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4277 (class 2606 OID 17227)
-- Name: submissions submissions_task_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.submissions
    ADD CONSTRAINT submissions_task_id_fkey FOREIGN KEY (task_id) REFERENCES public.tasks(task_id);


--
-- TOC entry 4278 (class 2606 OID 17232)
-- Name: submissions submissions_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.submissions
    ADD CONSTRAINT submissions_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4273 (class 2606 OID 17200)
-- Name: taskrequirements taskrequirements_requirement_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.taskrequirements
    ADD CONSTRAINT taskrequirements_requirement_id_fkey FOREIGN KEY (requirement_id) REFERENCES public.requirements(requirement_id);


--
-- TOC entry 4274 (class 2606 OID 17195)
-- Name: taskrequirements taskrequirements_task_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.taskrequirements
    ADD CONSTRAINT taskrequirements_task_id_fkey FOREIGN KEY (task_id) REFERENCES public.tasks(task_id);


--
-- TOC entry 4271 (class 2606 OID 17180)
-- Name: tasks tasks_course_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.tasks
    ADD CONSTRAINT tasks_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.courses(course_id);


--
-- TOC entry 4272 (class 2606 OID 17185)
-- Name: tasks tasks_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.tasks
    ADD CONSTRAINT tasks_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4286 (class 2606 OID 17306)
-- Name: taskstatuses taskstatuses_task_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.taskstatuses
    ADD CONSTRAINT taskstatuses_task_id_fkey FOREIGN KEY (task_id) REFERENCES public.tasks(task_id);


--
-- TOC entry 4287 (class 2606 OID 17301)
-- Name: taskstatuses taskstatuses_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.taskstatuses
    ADD CONSTRAINT taskstatuses_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4262 (class 2606 OID 17111)
-- Name: users users_class_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_class_id_fkey FOREIGN KEY (class_id) REFERENCES public.classes(class_id);


--
-- TOC entry 4263 (class 2606 OID 17116)
-- Name: users users_school_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_school_id_fkey FOREIGN KEY (school_id) REFERENCES public.schools(school_id);


--
-- TOC entry 4226 (class 3466 OID 25512)
-- Name: postgraphile_watch_ddl; Type: EVENT TRIGGER; Schema: -; Owner: -
--

CREATE EVENT TRIGGER postgraphile_watch_ddl ON ddl_command_end
         WHEN TAG IN ('ALTER AGGREGATE', 'ALTER DOMAIN', 'ALTER EXTENSION', 'ALTER FOREIGN TABLE', 'ALTER FUNCTION', 'ALTER POLICY', 'ALTER SCHEMA', 'ALTER TABLE', 'ALTER TYPE', 'ALTER VIEW', 'COMMENT', 'CREATE AGGREGATE', 'CREATE DOMAIN', 'CREATE EXTENSION', 'CREATE FOREIGN TABLE', 'CREATE FUNCTION', 'CREATE INDEX', 'CREATE POLICY', 'CREATE RULE', 'CREATE SCHEMA', 'CREATE TABLE', 'CREATE TABLE AS', 'CREATE VIEW', 'DROP AGGREGATE', 'DROP DOMAIN', 'DROP EXTENSION', 'DROP FOREIGN TABLE', 'DROP FUNCTION', 'DROP INDEX', 'DROP OWNED', 'DROP POLICY', 'DROP RULE', 'DROP SCHEMA', 'DROP TABLE', 'DROP TYPE', 'DROP VIEW', 'GRANT', 'REVOKE', 'SELECT INTO')
   EXECUTE FUNCTION postgraphile_watch.notify_watchers_ddl();


--
-- TOC entry 4227 (class 3466 OID 25513)
-- Name: postgraphile_watch_drop; Type: EVENT TRIGGER; Schema: -; Owner: -
--

CREATE EVENT TRIGGER postgraphile_watch_drop ON sql_drop
   EXECUTE FUNCTION postgraphile_watch.notify_watchers_drop();


-- Completed on 2025-03-24 16:36:06

--
-- PostgreSQL database dump complete
--

